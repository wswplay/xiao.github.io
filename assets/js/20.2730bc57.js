(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{375:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一个组件就是一个函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个组件就是一个函数"}},[t._v("#")]),t._v(" 一个组件就是一个函数")]),t._v(" "),a("p",[t._v("Vue 来说，一个组件最核心的东西是 render 函数，剩余的其他内容，如 data、compouted、props 等都是为 render 函数提供数据来源服务的。")]),t._v(" "),a("h2",{attrs:{id:"组件的输出就是-virtual-dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的输出就是-virtual-dom"}},[t._v("#")]),t._v(" 组件的输出就是："),a("code",[t._v("Virtual DOM")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("在后续行文时，将统一使用 VNode 来简称 Virtual DOM 。"),a("br"),t._v("\n在Vue.js 中虚拟 DOM 的 JavaScript 对象就是 VNode。")])]),t._v(" "),a("p",[a("strong",[t._v("为什么不直接输出"),a("code",[t._v("html")]),t._v("，而是"),a("code",[t._v("Virtual DOM")]),t._v("呢？")]),a("br"),t._v("\n其原因是 Virtual DOM 带来了 分层设计，它对渲染过程的抽象，使得框架可以渲染到 "),a("strong",[t._v("web(浏览器) 以外的平台，以及能够实现 SSR 等")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[t._v("至于 Virtual DOM 相比原生 DOM 操作的性能，这并非 Virtual DOM 的目标，确切地说，如果要比较二者的性能是要“控制变量”的，例如：页面的大小、数据变化量等。")])]),t._v(" "),a("h2",{attrs:{id:"组件的-vnode-如何表示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的-vnode-如何表示"}},[t._v("#")]),t._v(" 组件的 "),a("code",[t._v("VNode")]),t._v(" 如何表示")]),t._v(" "),a("p",[t._v("可以让 VNode 的 tag 属性指向组件本身，从而使用 VNode 来描述组件。")]),t._v(" "),a("h2",{attrs:{id:"vnode的属性称为vnodedata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vnode的属性称为vnodedata"}},[t._v("#")]),t._v(" VNode的属性称为VNodeData")]),t._v(" "),a("ol",[a("li",[t._v("假如一个 VNode 的类型是 html 标签，则 VNodeData 中可以包含 class、style 以及一些事件。")]),t._v(" "),a("li",[t._v("如果 VNode 的类型是组件，那么我们同样可以用 VNodeData 来描述组件，比如组件的事件、组件的 props 等等。例如：")])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("MyComponent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@some-event")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("prop-a")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("则其对应的 VNodeData 应为：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  flags"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" VNodeFlags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COMPONENT_STATEFUL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    on"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some-event'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" handler\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    propA"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 其他数据...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"组件的种类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的种类"}},[t._v("#")]),t._v(" 组件的种类")]),t._v(" "),a("p",[t._v("第一种方式是使用一个普通的函数：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("第二种方式是使用一个类：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("实际上它们分别代表两类组件："),a("br"),t._v("\n函数式组件("),a("code",[t._v("Functional component")]),t._v(") 和 有状态组件("),a("code",[t._v("Stateful component")]),t._v(")。")]),t._v(" "),a("p",[t._v("它们的区别如下：")]),t._v(" "),a("h4",{attrs:{id:"函数式组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件"}},[t._v("#")]),t._v(" 函数式组件：")]),t._v(" "),a("ol",[a("li",[t._v("是一个纯函数")]),t._v(" "),a("li",[t._v("没有自身状态，只接收外部数据")]),t._v(" "),a("li",[t._v("产出 VNode 的方式：单纯的函数调用")])]),t._v(" "),a("h4",{attrs:{id:"有状态组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有状态组件"}},[t._v("#")]),t._v(" 有状态组件：")]),t._v(" "),a("ol",[a("li",[t._v("是一个类，可实例化")]),t._v(" "),a("li",[t._v("可以有自身状态")]),t._v(" "),a("li",[t._v("产出 VNode 的方式：需要实例化，然后调用其 render 函数")])]),t._v(" "),a("h2",{attrs:{id:"vnode-的种类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vnode-的种类"}},[t._v("#")]),t._v(" VNode 的种类")]),t._v(" "),a("p",[t._v("总的来说，我们可以把 VNode 分成五类，分别是："),a("br"),t._v(" "),a("strong",[t._v("html/svg 元素")]),t._v("、"),a("strong",[t._v("组件")]),t._v("、"),a("strong",[t._v("纯文本")]),t._v("、"),a("strong",[t._v("Fragment")]),t._v(" 以及 "),a("strong",[t._v("Portal")]),t._v("：\n"),a("img",{attrs:{src:"http://hcysun.me/vue-design/assets/img/vnode-types.7d99313d.png",alt:""}})])])}),[],!1,null,null,null);s.default=e.exports}}]);